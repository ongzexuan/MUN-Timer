//This list can then be assigned dynamically
var countrylist=["Afghanistan",
"Albania",
"Algeria",
"Andorra",
"Angola",
"Antigua and Barbuda",
"Argentina",
"Armenia",
"Australia",
"Austria",
"Azerbaijan",
"Bahamas",
"Bahrain",
"Bangladesh",
"Barbados",
"Belarus",
"Belgium",
"Belize",
"Benin",
"Bhutan",
"Bolivia (Plurinational State of)",
"Bosnia and Herzegovina",
"Botswana",
"Brazil",
"Brunei Darussalam",
"Bulgaria",
"Burkina Faso",
"Burundi",
"Cabo Verde",
"Cambodia",
"Cameroon",
"Canada",
"Central African Republic",
"Chad",
"Chile",
"China",
"Colombia",
"Comoros",
"Congo",
"Costa Rica",
"Côte D'Ivoire",
"Croatia",
"Cuba",
"Cyprus",
"Czech Republic",
"Democratic People's Republic of Korea",
"Democratic Republic of the Congo",
"Denmark",
"Djibouti",
"Dominica",
"Dominican Republic",
"Ecuador",
"Egypt",
"El Salvador",
"Equatorial Guinea",
"Eritrea",
"Estonia",
"Ethiopia",
"Fiji",
"Finland",
"France",
"Gabon",
"Gambia",
"Georgia",
"Germany",
"Ghana",
"Greece",
"Grenada",
"Guatemala",
"Guinea",
"Guinea Bissau",
"Guyana",
"Haiti",
"Honduras",
"Hungary",
"Iceland",
"India",
"Indonesia",
"Iran (Islamic Republic of)",
"Iraq",
"Ireland",
"Israel",
"Italy",
"Jamaica",
"Japan",
"Jordan",
"Kazakhstan",
"Kenya",
"Kiribati",
"Kuwait",
"Kyrgyzstan",
"Lao People's Democratic Republic",
"Latvia",
"Lebanon",
"Lesotho",
"Liberia",
"Libya",
"Liechtenstein",
"Lithuania",
"Luxembourg",
"Madagascar",
"Malawi",
"Malaysia",
"Maldives",
"Mali",
"Malta",
"Marshall Islands",
"Mauritania",
"Mauritius",
"Mexico",
"Micronesia (Federated States of)",
"Monaco",
"Mongolia",
"Montenegro",
"Morocco",
"Mozambique",
"Myanmar",
"Namibia",
"Nauru",
"Nepal",
"Netherlands",
"New Zealand",
"Nicaragua",
"Niger",
"Nigeria",
"Norway",
"Oman",
"Pakistan",
"Palau",
"Panama",
"Papua New Guinea",
"Paraguay",
"Peru",
"Philippines",
"Poland",
"Portugal",
"Qatar",
"Republic of Korea",
"Republic of Moldova",
"Romania",
"Russian Federation",
"Rwanda",
"Saint Kitts and Nevis",
"Saint Lucia",
"Saint Vincent and the Grenadines",
"Samoa",
"San Marino",
"Sao Tome and Principe",
"Saudi Arabia",
"Senegal",
"Serbia",
"Seychelles",
"Sierra Leone",
"Singapore",
"Slovakia",
"Slovenia",
"Solomon Islands",
"Somalia",
"South Africa",
"South Sudan",
"Spain",
"Sri Lanka",
"Sudan",
"Suriname",
"Swaziland",
"Sweden",
"Switzerland",
"Syrian Arab Republic",
"Tajikistan",
"Thailand",
"The former Yugoslav Republic of Macedonia",
"Timor-Leste",
"Togo",
"Tonga",
"Trinidad and Tobago",
"Tunisia",
"Turkey",
"Turkmenistan",
"Tuvalu",
"Uganda",
"Ukraine",
"United Arab Emirates",
"United Kingdom",
"United Republic of Tanzania",
"United States of America",
"Uruguay",
"Uzbekistan",
"Vanuatu",
"Venezuela (Bolivarian Republic of)",
"Viet Nam",
"Yemen",
"Zambia",
"Zimbabwe",
"Hong Kong",
"Global Partnership For Education",
"Light for the World",
"International Institute for Educational Planning",
"Bayer",
"E Health Point",
"Medecins Sans Frontieres",
"GlaxoSmithKline",
"Pharmaceutical Research and Manufacturers of America (PhRMA)",
"Greenland",
"International Fair Trade Association (IFAT)",
"National Association of Sustainable Fashion Designers",
"International Solid Waste Association (ISWA)",
"World Bank Group",
"H&M",
"Walmart",
"World Health Organisation",
"Paris, France",
"Washington, USA",
"Queensland, Australia",
"Pennsylvania, USA",
"New Delhi, India",
"Beijing, China",
"London, United Kingdom",
"Amsterdam, Netherlands",
"Kiev, Ukraine",
"Ottawa, Canada",
"Cape Town, South Africa",
"Copenhagen, Denmark",
"Oslo, Norway",
"California, USA",
"Astana, Kazakhstan",
"Bern, Switzerland",
"Jakarta, Indonesia",
"Warsaw, Poland",
"Brasília, Brazil",
"Santiago, Chile",
"West Virginia, USA",
"Tokyo, Japan",
"Quito, Ecaudor",
"Moscow, Russia",
"Helsinki, Finland",
"Brussels, Belgium",
"Dhaka, Bangladesh",
"Pyongyang, DPRK",
"Berlin, Germany",
"Reykjavik, Iceland",
"Prague, Czech Republic",
"Stockholm, Sweden",
"Cairo, Egypt",
"Madrid, Spain",
"Sydney, Australia",
"Seoul, South Korea",
"Oregon, USA",
"Ankara, Turkey",
"President Ronald Reagan of the USA",
"PM Margaret Thatcher of the United Kingdom",
"President Francois Mitterand of France",
"Prime Minister Bulent Ulusu of Turkey",
"Prime Minister Pierre Trudeau of Canada",
"PM Bettino Craxi of Italy",
"Chancellor Helmut Kohl of West Germany",
"Prime Minister Ruud Lubbers of the Netherlands",
"John W. Vessey Jr, the US Joint Chief of Staff",
"Bernard W. Rogers, the NATO Supreme Allied Commander",
"PM Felipe Gonzalez of Spain",
"PM Mario Soares of Portugal",
"PM Andreas Papandreou of Greece",
"George P. Schultz, US Secretary of State",
"General Secretary of the CPSU Yuri Andropov",
"Chairman of the Council of Ministers Nikolai Tikhonov",
"Minister of Defense of the SU Dmitriy Ustinov",
"Chief of the General Staff of the USSR Nikolai Vasilyevich Ogarkov",
"Secretary for Industry and Military Industrial Complex of the CPSU Central Committee Grigory Romanov",
"Secretary for the Economy of the CPSU Central Committee Mikhail Gorbachev",
"Member of the CPSU Central Committee Konstantin Chernenko ",
"Minister of External Relations Andrei Gromyko",
"Leader of the Communist Party of Moscow Viktor Grishin",
"Administrator of Affairs (Treasurer) of the CPSU Central Committee Nikolay Kruchina",
"Minister of Interior Affairs of the Soviet Union Vitaly Fedorchuk",
"Supreme Commander of the Unified Armed Forces of the Warsaw Treaty Organization Viktor Kulikov",
"General Secretary of the Central Committee of the Socialist Unity Party of Germany Erich Honecker",
"Prime Minister of East Germany Willi Stoph ",
"Head of the East German Stasi Erich Mielke"
];

var cultivationlist = ["133",
"76",
"176",
"189",
"10",
"36",
"68",
"77",
"81",
"91",
"158",
"161",
"181",
"184",
"31",
"35",
"82",
"23",
"169",
"64",
"140",
"102",
"109",
"137",
"166",
"193",
"52",
"78"];

var educationlist = ["153",
"127",
"167",
"133",
"8",
"148",
"23",
"84",
"120",
"116",
"77",
"194",
"64",
"76",
"137",
"36",
"34",
"180",
"50",
"195",
"196",
"115",
"107",
"130",
"182",
"35",
"59",
"60",
"0",
"79",
"109",
"124",
"126",
"140",
"178",
"184"
];

var healthcarelist = ["23",
"35",
"76",
"77",
"47",
"182",
"60",
"16",
"184",
"81",
"166",
"192",
"31",
"64",
"153",
"57",
"158",
"85",
"87",
"197",
"198",
"199",
"140",
"84",
"200",
"52",
"109",
"201",
"8",
"176",
"137",
"29",
"65",
"0"];

var mininglist = ["210",
"211",
"212",
"213",
"214",
"215",
"216",
"217",
"218",
"219",
"220",
"221",
"222",
"223",
"224",
"225",
"226",
"227",
"228",
"229",
"230",
"231",
"232",
"233",
"234",
"235",
"236",
"237",
"238",
"239",
"240",
"241",
"242",
"243",
"244",
"245",
"246",
"247"
];

var oceanslist = ["121",
"35",
"6",
"169",
"39",
"23",
"132",
"64",
"116",
"102",
"75",
"140",
"189",
"103",
"47",
"78",
"73",
"188",
"125",
"158",
"76",
"34",
"109",
"184",
"8",
"60",
"182",
"84",
"120",
"52",
"202",
"129",
"160",
"165",
];

var textileslist = ["35",
"8",
"186",
"76",
"82",
"176",
"182",
"47",
"137",
"203",
"124",
"181",
"189",
"204",
"125",
"205",
"206",
"207",
"208",
"209",
"77",
"169",
"175",
"158",
"8",
"184",
"64",
"45",
"60",
"193",
"127",
"23",
"39",
"13"
];

var natolist = [
"248",
"249",
"250",
"251",
"252",
"253",
"254",
"255",
"256",
"257",
"258",
"259",
"260",
"261"
];

var warsawpactlist = [
"262",
"263",
"264",
"265",
"266",
"267",
"268",
"269",
"270",
"271",
"272",
"273",
"274",
"275",
"276"
];

var countrycount = 0;

//generate a list of countries with checkboxes for the committee tab
function generateListOfCountries() {
	var onecollength = Math.ceil((countrylist.length)/3);
	for (var i = 0; i < onecollength; i++) {
		var col = document.getElementById("firstcol");			
		var checkbox;
		var label;
		var br = document.createElement("br");
		//if (i<=countrylist.length) {
			checkbox = createCheckbox("cbcountry"+i,countrylist[i]);
			label = createLabel("country"+i,countrylist[i]);
		/*} else if (i<countrylist.length+specialcountrylist.length) {
			console.log("Special Country Created!");
			checkbox = createCheckbox("cbcountry"+i,specialcountrylist[i-countrylist.length]);
			label = createLabel("country"+i,specialcountrylist[i-countrylist.length]);
		} else {
			console.log("YNCAP Created!");
			checkbox = createCheckbox("cbcountry"+i,yncapmunlist[i-countrylist.length-specialcountrylist.length]);
			label = createLabel("country"+i,yncapmunlist[i-countrylist.length-specialcountrylist.length]);
		}*/
		col.appendChild(checkbox);
		col.appendChild(label);
		col.appendChild(br);
		countrycount++;
	}
	for (var i = onecollength; i < onecollength*2; i++) {	
		var col = document.getElementById("secondcol");			
		var checkbox;
		var label;
		var br = document.createElement("br");
		//if (i<=countrylist.length) {
			checkbox = createCheckbox("cbcountry"+i,countrylist[i]);
			label = createLabel("country"+i,countrylist[i]);
		/*} else if (i<countrylist.length+specialcountrylist.length) {
			console.log("Special Country Created!");
			checkbox = createCheckbox("cbcountry"+i,specialcountrylist[i-countrylist.length]);
			label = createLabel("country"+i,specialcountrylist[i-countrylist.length]);
		} else {
			console.log("YNCAP Created!");
			checkbox = createCheckbox("cbcountry"+i,yncapmunlist[i-countrylist.length-specialcountrylist.length]);
			label = createLabel("country"+i,yncapmunlist[i-countrylist.length-specialcountrylist.length]);
		}*/
		col.appendChild(checkbox);
		col.appendChild(label);
		col.appendChild(br);
		countrycount++;
		/*var col = document.getElementById("secondcol");			
		var checkbox = createCheckbox("cbcountry"+i,countrylist[i]);
		var label = createLabel("country"+i,countrylist[i]);
		var br = document.createElement("br");
		col.appendChild(checkbox);
		col.appendChild(label);
		col.appendChild(br);
		countrycount++;*/
	}
	for (var i = onecollength*2; i < countrylist.length; i++) {	
		var col = document.getElementById("thirdcol");			
		var checkbox;
		var label;
		var br = document.createElement("br");
		//if (i<countrylist.length) {
			checkbox = createCheckbox("cbcountry"+i,countrylist[i]);
			label = createLabel("country"+i,countrylist[i]);
		/*} else if (i<countrylist.length+specialcountrylist.length) {
			console.log("Special Country Created!");
			checkbox = createCheckbox("cbcountry"+i,specialcountrylist[i-countrylist.length]);
			label = createLabel("country"+i,specialcountrylist[i-countrylist.length]);
		} else {
			console.log("YNCAP Created!");
			checkbox = createCheckbox("cbcountry"+i,yncapmunlist[i-countrylist.length-specialcountrylist.length]);
			//console.log(i-countrylist.length-specialcountrylist.length+","+yncapmunlist[i-countrylist.length-specialcountrylist.length]);
			label = createLabel("country"+i,yncapmunlist[i-countrylist.length-specialcountrylist.length]);
		}*/
		col.appendChild(checkbox);
		col.appendChild(label);
		col.appendChild(br);
		countrycount++;


		/*var col = document.getElementById("thirdcol");			
		var checkbox = createCheckbox("cbcountry"+i,countrylist[i]);
		var label = createLabel("country"+i,countrylist[i]);
		var br = document.createElement("br");
		col.appendChild(checkbox);
		col.appendChild(label);
		col.appendChild(br);
		countrycount++;*/
	}

	//to populate the initial checkbox
	document.getElementById("cbcountry0").checked = true;
}

//generate a label for the checkbox for clickableness
function createLabel(id,value) {
	var label = document.createElement("label");
	label.innerHTML = value;
	label.htmlFor = "cb"+id;
	return label;
}

//generate a checkbox
function createCheckbox(id,value) {
	var checkbox = document.createElement("input");
	checkbox.type = "checkbox";
	//if a function is ever needed
	/*checkbox.onclick = function() {

	}*/
	checkbox.id = id;
	checkbox.value = value;
	return checkbox;
}

//Code to grab data from gdocs
/*
var namelist = [];
$.getJSON('https://spreadsheets.google.com/feeds/list/1ktmocBclx4OvtkUcWuRdULXuAmHSGqUa67-yfmty3VU/od6/public/values?alt=json', function(data) {
        //console.log(data.feed.entry);
        for (var i = 0; i < data.feed.entry.length; i++) {
          namelist.push($.trim(data.feed.entry[i].gsx$name.$t));
        }
        //console.log(namelist);
      });

$.ajax({
  url: "https://spreadsheets.google.com/feeds/list/1ktmocBclx4OvtkUcWuRdULXuAmHSGqUa67-yfmty3VU/od6/public/values?alt=json",
  complete: function(data){
              
              initializeBloodhound();
            }
          });
*/

//initialise the twitter Bloodhound engine to allow text input
function initializeBloodhound() {
	var names = new Bloodhound({
		datumTokenizer: function(d) { return Bloodhound.tokenizers.whitespace(d.name); },
		queryTokenizer: Bloodhound.tokenizers.whitespace,
		local: $.map(countrylist, function(item) { return { name: item }; })
	});
	 
	// initialize the bloodhound suggestion engine
	names.initialize();
	 
	// instantiate the typeahead UI
	$('#searcher').typeahead(null, {
		displayKey: 'name',
		source: names.ttAdapter()
	});

}

//if a key is pressed in the input textfield
function submitCountry(event) {
	//if the key is "enter"
	if(event.keyCode == 13) {
		var input = document.getElementById("searcher").value;
		for (var i = 0; i < countrylist.length; i++) {
			var checkbox = document.getElementById("country"+i);
			if (checkbox!=null) {
				if (checkbox.value==input) {
					checkbox.checked = !checkbox.checked;
					break;
				}
			}
		}
	}
}

function clearSelection() {
	for (var i = 0; i < countrycount; i++) {
		var cb = document.getElementById("cbcountry"+i);	
		cb.checked = false;
	}
}

function selectCultivation() {
	clearSelection();
	for (var i = 0; i < cultivationlist.length; i++) {
		var cb = document.getElementById("cbcountry"+cultivationlist[i]);	
		cb.checked = true;
	}
}

function selectEducation() {
	clearSelection();
	for (var i = 0; i < educationlist.length; i++) {
		var cb = document.getElementById("cbcountry"+educationlist[i]);	
		cb.checked = true;
	}
}

function selectHealthcare() {
	clearSelection();
	for (var i = 0; i < healthcarelist.length; i++) {
		var cb = document.getElementById("cbcountry"+healthcarelist[i]);	
		cb.checked = true;
	}
}

function selectMining() {
	clearSelection();
	for (var i = 0; i < mininglist.length; i++) {
		var cb = document.getElementById("cbcountry"+mininglist[i]);	
		cb.checked = true;
	}
}

function selectOceans() {
	clearSelection();
	for (var i = 0; i < oceanslist.length; i++) {
		var cb = document.getElementById("cbcountry"+oceanslist[i]);	
		cb.checked = true;
	}
}

function selectTextiles() {
	clearSelection();
	for (var i = 0; i < textileslist.length; i++) {
		var cb = document.getElementById("cbcountry"+textileslist[i]);	
		cb.checked = true;
	}
}

function selectNato() {
	clearSelection();
	for (var i = 0; i < natolist.length; i++) {
		var cb = document.getElementById("cbcountry"+natolist[i]);	
		cb.checked = true;
	}
}

function selectWarsaw() {
	clearSelection();
	for (var i = 0; i < warsawpactlist.length; i++) {
		var cb = document.getElementById("cbcountry"+warsawpactlist[i]);	
		cb.checked = true;
	}
}
